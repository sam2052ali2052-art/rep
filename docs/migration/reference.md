# Raptor Foundation Policy Migration Reference Document
# ูุซููุฉ ูุฑุฌุนูุฉ ููุฌุฑุฉ ุณูุงุณุฉ Raptor ุงูุฃุณุงุณูุฉ

**ุชุงุฑูุฎ ุงูุฅูุดุงุก:** 2 ูุจุฑุงูุฑ 2026  
**ุงููุดุฑูุน ุงูุฃุตูู:** sam2052ali2052-art/rep  
**ุงููุฏู:** ูุฌุฑุฉ ูู C++ ุฅูู Python/PyTorch  

---

## 1. ูุธุฑุฉ ุนุงูุฉ ุนูู ุงููุดุฑูุน (Project Overview)

### 1.1 ุงููุฏู ุงูุฑุฆูุณู
ุชุญููู ูุดุฑูุน Raptor Foundation Policy ูู C++ ุฅูู Python/PyTorch ูุน ุงูุญูุงุธ ุนูู ุฌููุน ุงููุธุงุฆู ูุงูุชูุงุตููุ ูุชุตุฏูุฑ ุงููููุฐุฌ ุงููุฏุฑุจ ููุนูู ุนูู ุชุทุจููุงุช Android.

### 1.2 ูุง ูู Raptorุ
Raptor ูู ุณูุงุณุฉ ุฃุณุงุณูุฉ (Foundation Policy) ููุชุญูู ูู ุงูุทุงุฆุฑุงุช ุฑุจุงุนูุฉ ุงููุฑุงูุญ (Quadrotors) ุจุงุณุชุฎุฏุงู ุงูุชุนูู ุงููุนุฒุฒ (Reinforcement Learning). ูุชููุฒ ุจู:
- ูุฏุฑุฉ ุนูู ุงูุชุนููู ุนุจุฑ ุฃููุงุน ูุฎุชููุฉ ูู ุงูุทุงุฆุฑุงุช
- ููู ูุงุฌุญ ูู ุงููุญุงูุงุฉ ุฅูู ุงููุงูุน (Sim-to-Real)
- ุชุญูู ุจูุนุฏู 100 Hz (ูุงุจู ููุชุดุบูู ุญุชู 400 Hz)

---

## 2. ุงูุจูุฆุฉ ูุงููุญุงูุงุฉ (Environment & Simulation)

### 2.1 ุงููุญุงูู ุงููุฎุชุงุฑ
| ุงูุจูุฏ | ุงููููุฉ |
|-------|--------|
| **ุงููุญุงูู** | L2F (Learning to Fly) |
| **ุงููุงุฌูุฉ** | Gymnasium Wrapper |
| **ุงูุฅุตุฏุงุฑ** | l2f==2.0.18 |

### 2.2 ููุงุฐุง L2Fุ
- ููุณ ุงูุฏููุงูููุง ุงููุณุชุฎุฏูุฉ ูู ุงูุชุฏุฑูุจ ุงูุฃุตูู
- ุชูุงูู 100% ูุน checkpoints ุงููุนูููู
- ูุงุจููุฉ ุงูุชุฎุตูุต ุงููุงููุฉ ุนุจุฑ JSON
- ุฏุนู ุงููุญุงูุงุฉ ุงููุชูุงุฒูุฉ

### 2.3 ูุนุฏู ุงูุชุญูู
| ุงูุจูุฏ | ุงููููุฉ |
|-------|--------|
| **ูุนุฏู ุงูุชุฏุฑูุจ** | 100 Hz (dt = 0.01 ุซุงููุฉ) |
| **ูุนุฏู ุงูุงุณุชุฏูุงู** | 250 Hz (dt = 0.004 ุซุงููุฉ) |
| **ุชูููุฉ ุงูุชุณุฑูุน** | Frequency Decoupling |

### 2.4 ูุณุงุญุฉ ุงูููุงุญุธุฉ (Observation Space)
```
ุงูุฃุจุนุงุฏ: 22 ุนูุตุฑ

[0:3]   - Position (ุงููููุน): 3 ููู (x, y, z) ุจุงููุชุฑ
[3:12]  - Rotation Matrix (ูุตูููุฉ ุงูุฏูุฑุงู): 9 ููู (ูุณุทุญุฉ)
[12:15] - Linear Velocity (ุงูุณุฑุนุฉ ุงูุฎุทูุฉ): 3 ููู (m/s)
[15:18] - Angular Velocity (ุงูุณุฑุนุฉ ุงูุฒุงููุฉ): 3 ููู (rad/s)
[18:22] - Previous Action (ุงููุนู ุงูุณุงุจู): 4 ููู
```

### 2.5 ูุณุงุญุฉ ุงููุนู (Action Space)
```
ุงูุฃุจุนุงุฏ: 4 ุนูุงุตุฑ

[0] - Front-Right Motor (ุงููุญุฑู ุงูุฃูุงูู ุงูุฃููู)
[1] - Back-Right Motor (ุงููุญุฑู ุงูุฎููู ุงูุฃููู)
[2] - Back-Left Motor (ุงููุญุฑู ุงูุฎููู ุงูุฃูุณุฑ)
[3] - Front-Left Motor (ุงููุญุฑู ุงูุฃูุงูู ุงูุฃูุณุฑ)

ุงููุทุงู: [-1, 1] (normalized)
ุงูุชุญููู: rpm = (max_rpm - min_rpm) * (action + 1)/2 + min_rpm
```

---

## 3. ุจููุฉ ุงูุดุจูุฉ ุงูุนุตุจูุฉ (Neural Network Architecture)

### 3.1 ุงููููู ุงูุนุงู
```
Input (22) โ Dense (16, ReLU) โ GRU (16) โ Dense (4, Identity) โ Output (4)
```

### 3.2 ุชูุงุตูู ุงูุทุจูุงุช
| ุงูุทุจูุฉ | ุงููุฏุฎูุงุช | ุงููุฎุฑุฌุงุช | ุงูุชูุนูู |
|--------|----------|----------|---------|
| Input Dense | 22 | 16 | ReLU |
| GRU | 16 | 16 | - |
| Output Dense | 16 | 4 | Identity (None) |

### 3.3 ุงูุญุงูุฉ ุงููุฎููุฉ (Hidden State)
```python
hidden_dim = 16
hidden_state = torch.zeros(1, 1, 16)  # (num_layers, batch, hidden_dim)
```

### 3.4 ููุฏ PyTorch ุงูููุงูุฆ
```python
import torch
import torch.nn as nn

class RaptorPolicy(nn.Module):
    def __init__(self, obs_dim=22, hidden_dim=16, action_dim=4):
        super().__init__()
        self.input_layer = nn.Linear(obs_dim, hidden_dim)
        self.gru = nn.GRU(hidden_dim, hidden_dim, batch_first=True)
        self.output_layer = nn.Linear(hidden_dim, action_dim)
    
    def forward(self, obs, hidden):
        x = torch.relu(self.input_layer(obs))
        x, hidden = self.gru(x.unsqueeze(1), hidden)
        action = self.output_layer(x.squeeze(1))
        return action, hidden
    
    def reset(self, batch_size=1):
        return torch.zeros(1, batch_size, 16)
```

---

## 4. ูููุฌูุฉ ุงูุชุฏุฑูุจ (Training Methodology)

### 4.1 ูุธุฑุฉ ุนุงูุฉ
ุงูุชุฏุฑูุจ **ูููุฌู ูููุธู** ููุชููู ูู ูุฑุญูุชูู:

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                    Pre-Training                          โ
โ  โโโโโโโ โโโโโโโ โโโโโโโ       โโโโโโโ                 โ
โ  โ T1  โ โ T2  โ โ T3  โ ... โT1000โ  (1000 ูุนูู)      โ
โ  โโโโโโโ โโโโโโโ โโโโโโโ       โโโโโโโ                  โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                        โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                   Post-Training                          โ
โ         Knowledge Distillation (ุชูุทูุฑ ุงููุนุฑูุฉ)           โ
โ                        โ                                 โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ                โ
โ  โ       Foundation Policy             โ                โ
โ  โ       (ุณูุงุณุฉ ููุญุฏุฉ ูุงุญุฏุฉ)            โ                โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ                โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

### 4.2 ุงููุฑุญูุฉ ุงูุฃููู: Pre-Training (ุชุฏุฑูุจ ุงููุนูููู)

#### ุงููุฏู
ุชุฏุฑูุจ 1000 ุณูุงุณุฉ "ูุนูู" ูุชุฎุตุตุฉุ ูู ูุงุญุฏุฉ ุนูู ุชูููู ุฏููุงูููู ูุฎุชูู.

#### ุงูุฎูุงุฑุฒููุฉ
**SAC (Soft Actor-Critic)**

#### ุงููุนููุงุช
| ุงููุนููุฉ | ุงููููุฉ | ุงููุตู |
|---------|--------|-------|
| `ACTOR_BATCH_SIZE` | 128 | ุญุฌู ุงูุฏูุนุฉ ููููุซู |
| `CRITIC_BATCH_SIZE` | 128 | ุญุฌู ุงูุฏูุนุฉ ูููุงูุฏ |
| `GAMMA` | 0.99 | ูุนุงูู ุงูุฎุตู |
| `TARGET_ENTROPY` | -2 | ุงูุฅูุชุฑูุจูุง ุงููุณุชูุฏูุฉ |
| `STEP_LIMIT` | 1,000,000 | ุนุฏุฏ ุงูุฎุทูุงุช ููู ูุนูู |
| `ACTOR_HIDDEN_DIM` | 64 | ุฃุจุนุงุฏ ุงูุทุจูุงุช ุงููุฎููุฉ ููููุซู |
| `CRITIC_HIDDEN_DIM` | 256 | ุฃุจุนุงุฏ ุงูุทุจูุงุช ุงููุฎููุฉ ูููุงูุฏ |
| `LEARNING_RATE` | 3e-4 | ูุนุฏู ุงูุชุนูู |
| `N_WARMUP_STEPS` | 10,000 | ุฎุทูุงุช ุงูุฅุญูุงุก |

#### ูุฏุฉ ุงูุญููุฉ
- 500 ุฎุทูุฉ = 5 ุซูุงูู (ุนูุฏ 100 Hz)

### 4.3 ุงููุฑุญูุฉ ุงูุซุงููุฉ: Post-Training (ุชูุทูุฑ ุงููุนุฑูุฉ)

#### ุงููุฏู
ุฏูุฌ ูุนุฑูุฉ 1000 ูุนูู ูู ุณูุงุณุฉ ูุงุญุฏุฉ ููุญุฏุฉ.

#### ุงูุทุฑููุฉ
1. **Behavioral Cloning** (ุฃูู 10 ุญูุจ): ุชูููุฏ ุณููู ุงููุนูููู
2. **DAgger** (ุจููุฉ ุงูุญูุจ): ุงูุทุงูุจ ูุทูุฑุ ุงููุนูู ูุตุญุญ

#### ุงููุนููุงุช
| ุงููุนููุฉ | ุงููููุฉ | ุงููุตู |
|---------|--------|-------|
| `NUM_TEACHERS` | 1000 | ุนุฏุฏ ุงููุนูููู |
| `SEQUENCE_LENGTH` | 500 | ุทูู ุงูุชุณูุณู |
| `BATCH_SIZE` | 64 | ุญุฌู ุงูุฏูุนุฉ |
| `N_EPOCH` | 1000 | ุนุฏุฏ ุงูุญูุจ |
| `HIDDEN_DIM` | 16 | ุฃุจุนุงุฏ GRU |
| `LEARNING_RATE` | 0.0001 | ูุนุฏู ุงูุชุนูู |
| `EPOCH_TEACHER_FORCING` | 10 | ุญูุจ ุงูุชูููุฏ ุงููุจุงุดุฑ |
| `SOLVED_RETURN` | 300 | ุนุชุจุฉ ุงููุฌุงุญ |

---

## 5. ุณููุงุฑูููุงุช ุงูุชุฏุฑูุจ (Training Scenarios)

### 5.1 ุฃููุงุน ุงูููุงู
| ุงูููุน | ุงููุณุจุฉ | ุงููุตู |
|-------|--------|-------|
| **POSITION (ุงูุชุญููู)** | 50% | ุงูุซุจุงุช ูู ูููุน ูุญุฏุฏ |
| **LANGEVIN (ุชุชุจุน ุงููุณุงุฑ)** | 50% | ุชุชุจุน ูุณุงุฑ ุฏููุงูููู ูุชุบูุฑ |

### 5.2 ุงูุชุญููู (Hover)
```
ุงููุฏู: ุงูุจูุงุก ุซุงุจุชุงู ูู ููุทุฉ (0, 0, 0)
ุงูููุงูุฃุฉ: ุชูููู ุฎุทุฃ ุงููููุน ูุงูุงุชุฌุงู
```

### 5.3 ุชุชุจุน ุงููุณุงุฑ (Trajectory Tracking - Langevin)
```python
langevin_params = {
    'gamma': 1.0,   # ูุนุงูู ุงูุชุฎููุฏ
    'omega': 2.0,   # ุงูุชุฑุฏุฏ
    'sigma': 0.5,   # ูููุงุณ ุงูุถูุถุงุก
    'alpha': 0.01   # ุงูุชูุนูู
}
```

### 5.4 ุงูุฃูุถุงุน ุงูุงุจุชุฏุงุฆูุฉ (Initial Conditions)
| ุงููุนููุฉ | ุงููุทุงู | ุงููุตู |
|---------|--------|-------|
| `max_position` | ยฑ0.5 ูุชุฑ | ุงููุณุงูุฉ ูู ุงููุฏู |
| `max_angle` | ยฑ90ยฐ (1.57 rad) | ูููู ุฃู ุชุจุฏุฃ ููููุจุฉ |
| `max_linear_velocity` | ยฑ1.0 ู/ุซ | ุงูุณุฑุนุฉ ุงูุงุจุชุฏุงุฆูุฉ |
| `max_angular_velocity` | ยฑ1.0 ุฑุงุฏ/ุซ | ุงูุฏูุฑุงู ุงูุงุจุชุฏุงุฆู |

---

## 6. ุฏุงูุฉ ุงูููุงูุฃุฉ (Reward Function)

### 6.1 ุงูุตูุบุฉ ุงูุนุงูุฉ
```python
reward = scale * (constant - penalties)

penalties = (
    position_weight * position_errorยฒ +
    orientation_weight * orientation_errorยฒ +
    linear_velocity_weight * velocity_errorยฒ +
    angular_velocity_weight * angular_velocityยฒ +
    action_weight * actionยฒ +
    d_action_weight * (action - prev_action)ยฒ
)
```

### 6.2 ุงูุฃูุฒุงู ุงูุงูุชุฑุงุถูุฉ
| ุงููุนููุฉ | ุงููููุฉ | ุงููุตู |
|---------|--------|-------|
| `scale` | 0.10 | ูููุงุณ ุงูููุงูุฃุฉ |
| `constant` | 1.00 | ุซุงุจุช ุฃุณุงุณู |
| `termination_penalty` | -100 | ุนููุจุฉ ุงูุฅููุงุก ุงููุจูุฑ |
| `position` | 10.00 | ูุฒู ุฎุทุฃ ุงููููุน |
| `orientation` | 2.50 | ูุฒู ุฎุทุฃ ุงูุงุชุฌุงู |
| `linear_velocity` | 0.05 | ูุฒู ุงูุณุฑุนุฉ ุงูุฎุทูุฉ |
| `action` | 0.10 | ูุฒู ุญุฌู ุงููุนู |
| `d_action` | 1.00 | ูุฒู ุชุบูุฑ ุงููุนู (smoothness) |

---

## 7. Domain Randomization (ุชูููุน ุงููุทุงู)

### 7.1 ุงููุฏู
ุชุฏุฑูุจ ุงูุณูุงุณุฉ ุนูู ูุทุงู ูุงุณุน ูู ุงูุชููููุงุช ุงูุฏููุงููููุฉ ูุถูุงู ุงูููู ุงููุงุฌุญ ูููุงูุน.

### 7.2 ุงููุนููุงุช ุงููุชุบูุฑุฉ
| ุงููุนููุฉ | ุงูุญุฏ ุงูุฃุฏูู | ุงูุญุฏ ุงูุฃูุตู | ุงููุตู |
|---------|-------------|-------------|-------|
| `thrust_to_weight` | 1.5 | 5.0 | ูุณุจุฉ ุงูุฏูุน ูููุฒู |
| `torque_to_inertia` | 40 | 1200 | ูุณุจุฉ ุงูุนุฒู ูููุตูุฑ |
| `mass` | 0.02 kg | 5.0 kg | ูุชูุฉ ุงูุทุงุฆุฑุฉ |
| `rotor_time_constant_rising` | 0.03 s | 0.30 s | ุซุงุจุช ููุช ุงููุญุฑู (ุตุนูุฏ) |
| `rotor_time_constant_falling` | 0.07 s | 0.30 s | ุซุงุจุช ููุช ุงููุญุฑู (ูุจูุท) |
| `rotor_torque_constant` | 0.005 | 0.05 | ุซุงุจุช ุนุฒู ุงููุญุฑู |
| `disturbance_force` | 0 | 0.3 | ููู ุงูุงุถุทุฑุงุจ ุงูุฎุงุฑุฌูุฉ |

### 7.3 ุถูุถุงุก ุงูููุงุญุธุฉ (Observation Noise)
```python
observation_noise = {
    'position': 0.01,        # ูุชุฑ
    'orientation': 0.01,     # -
    'linear_velocity': 0.05, # ู/ุซ
    'angular_velocity': 0.1  # ุฑุงุฏ/ุซ
}
```

### 7.4 ุถูุถุงุก ุงููุนู (Action Noise)
```python
action_noise = {
    'normalized_rpm': 0.05  # ุงูุญุฑุงู ูุนูุงุฑู
}
```

---

## 8. ุชุฎุตูุต ูุนููุงุช ุงูุทุงุฆุฑุฉ (Drone Customization)

### 8.1 ุงูุทุฑููุฉ
ุชุฎุตูุต ูุงูู ุนุจุฑ ูููุงุช JSON.

### 8.2 ูุซุงู ุนูู ููู JSON
```json
{
    "dynamics": {
        "rotor_positions": [
            [0.15, -0.15, 0.0],
            [-0.15, -0.15, 0.0],
            [-0.15, 0.15, 0.0],
            [0.15, 0.15, 0.0]
        ],
        "mass": 0.5,
        "J": [
            [0.001, 0.0, 0.0],
            [0.0, 0.001, 0.0],
            [0.0, 0.0, 0.002]
        ],
        "rotor_thrust_coefficients": [[0.0, 0.0, 1.0], ...],
        "rotor_torque_constants": [0.01, 0.01, 0.01, 0.01],
        "rotor_time_constants_rising": [0.05, 0.05, 0.05, 0.05],
        "rotor_time_constants_falling": [0.07, 0.07, 0.07, 0.07]
    }
}
```

### 8.3 ุทุงุฆุฑุงุช ุฌุงูุฒุฉ ูู ุงููุดุฑูุน
- Crazyflie (ุตุบูุฑุฉุ ~30 ุฌุฑุงู)
- X500 (ูุชูุณุทุฉ)
- MRS (ูุจูุฑุฉ)
- Race (ุณุจุงู)
- Flightmare

---

## 9. ูุชุทูุจุงุช ุงูุฃุฌูุฒุฉ (Hardware Requirements)

### 9.1 ููุชุฏุฑูุจ
| ุงููููู | ุงูุญุฏ ุงูุฃุฏูู | ุงูููุตู ุจู |
|--------|-------------|-----------|
| **GPU** | GTX 1080 (8GB) | RTX 3090 (24GB) |
| **RAM** | 16 GB | 32 GB |
| **CPU** | 8 cores | 16+ cores |
| **Storage** | 50 GB SSD | 100 GB NVMe |

### 9.2 ุชูุฏูุฑ ููุช ุงูุชุฏุฑูุจ

#### RTX 3090 (24GB) - ุงูููุตู ุจู
| ุงููุฑุญูุฉ | ุงูููุช |
|---------|-------|
| Pre-Training | ~20-24 ุณุงุนุฉ |
| Post-Training | ~2-3 ุณุงุนุงุช |
| **ุงููุฌููุน** | **~22-27 ุณุงุนุฉ** |

#### GTX 1080 (8GB) - ุงูุญุฏ ุงูุฃุฏูู
| ุงููุฑุญูุฉ | ุงูููุช |
|---------|-------|
| Pre-Training | ~48-60 ุณุงุนุฉ |
| Post-Training | ~4-6 ุณุงุนุงุช |
| **ุงููุฌููุน** | **~52-66 ุณุงุนุฉ** |

---

## 10. ูุชุงุจุนุฉ ุงูุชุฏุฑูุจ (Training Monitoring)

### 10.1 TensorBoard
```
๐ ุงูููุงููุณ ุงููุชุงุญุฉ:
โโโ Reward (ุงูููุงูุฃุฉ)
โโโ Episode Length (ุทูู ุงูุญููุฉ)
โโโ Actor Loss (ุฎุณุงุฑุฉ ุงูููุซู)
โโโ Critic Loss (ุฎุณุงุฑุฉ ุงููุงูุฏ)
โโโ Entropy (ุงูุฅูุชุฑูุจูุง)
โโโ Learning Rate (ูุนุฏู ุงูุชุนูู)
```

### 10.2 Checkpoints
```
๐ ุงูุญูุธ ุงูุชููุงุฆู:
โโโ ูู N ุญูุจุฉ
โโโ ุฃูุถู ูููุฐุฌ ุชููุงุฆูุงู
โโโ ุฏุนู ุงุณุชุฆูุงู ุงูุชุฏุฑูุจ
```

### 10.3 ุงูุนุฑุถ ุซูุงุซู ุงูุฃุจุนุงุฏ
- WebSocket UI ุนุจุฑ ui-server
- ุนุฑุถ ุงูุทุงุฆุฑุฉ ูู ุงูููุช ุงูุญูููู
- http://localhost:13337

---

## 11. ุงูุชุตุฏูุฑ ูุงููุดุฑ (Export & Deployment)

### 11.1 ุงูููุตุฉ ุงููุณุชูุฏูุฉ
**Android**

### 11.2 ูุณุงุฑ ุงูุชุตุฏูุฑ
```
PyTorch (.pt)
     โ
ONNX (.onnx)
     โ
TensorFlow Lite (.tflite)
     โ
Android App
```

### 11.3 ููุฏ ุงูุชุตุฏูุฑ ุฅูู ONNX
```python
import torch

model = load_trained_model()
dummy_input = torch.randn(1, 1, 22)
dummy_hidden = torch.zeros(1, 1, 16)

torch.onnx.export(
    model,
    (dummy_input, dummy_hidden),
    'raptor_policy.onnx',
    input_names=['observation', 'hidden_in'],
    output_names=['action', 'hidden_out'],
    opset_version=14
)
```

### 11.4 ุงูุชุญููู ุฅูู TFLite
```python
import onnx
from onnx_tf.backend import prepare
import tensorflow as tf

onnx_model = onnx.load('raptor_policy.onnx')
tf_rep = prepare(onnx_model)
tf_rep.export_graph('raptor_tf')

converter = tf.lite.TFLiteConverter.from_saved_model('raptor_tf')
tflite_model = converter.convert()
with open('raptor_policy.tflite', 'wb') as f:
    f.write(tflite_model)
```

### 11.5 ุงูุงุณุชุฎุฏุงู ูู Android (Kotlin)
```kotlin
val interpreter = Interpreter(loadModelFile("raptor_policy.tflite"))
val observation = floatArrayOf(/* 22 ูููุฉ */)
val hiddenState = FloatArray(16)
val action = FloatArray(4)

interpreter.runForMultipleInputsOutputs(
    arrayOf(observation, hiddenState),
    mapOf(0 to action, 1 to hiddenState)
)
// action ูุญุชูู ุนูู ุฃูุงูุฑ ุงููุญุฑูุงุช ุงูุฃุฑุจุนุฉ
```

---

## 12. ุจูุฆุฉ ุงูุชุทููุฑ (Development Environment)

### 12.1 ุงูุฅุตุฏุงุฑุงุช ุงููุทููุจุฉ
| ุงูููุชุจุฉ | ุงูุฅุตุฏุงุฑ |
|---------|---------|
| Python | 3.10+ |
| PyTorch | 2.0+ (with CUDA) |
| l2f | 2.0.18 |
| stable-baselines3 | 2.7.1 |
| ONNX | 1.20.1 |
| TensorBoard | latest |
| h5py | latest |
| numpy | latest |

### 12.2 ุงูุชุซุจูุช
```bash
pip install torch torchvision torchaudio --index-url https://download.pytorch.org/whl/cu118
pip install l2f==2.0.18
pip install stable-baselines3==2.7.1
pip install onnx==1.20.1
pip install tensorboard h5py numpy
```

---

## 13. ูููู ุงููุดุฑูุน (Project Structure)

```
raptor-python/
โโโ pyproject.toml              # ุชูููู ุงููุดุฑูุน
โโโ README.md                   # ุงูุชูุซูู
โโโ configs/                    # ูููุงุช ุงูุชูููู
โ   โโโ default.yaml
โ   โโโ drones/
โ       โโโ crazyflie.json
โ       โโโ x500.json
โ       โโโ custom.json
โโโ src/
โ   โโโ raptor/
โ       โโโ __init__.py
โ       โโโ nn/                 # ุงูุดุจูุงุช ุงูุนุตุจูุฉ
โ       โ   โโโ __init__.py
โ       โ   โโโ dense.py
โ       โ   โโโ gru.py
โ       โ   โโโ policy.py
โ       โโโ rl/                 # ุฎูุงุฑุฒููุงุช ุงูุชุนูู ุงููุนุฒุฒ
โ       โ   โโโ __init__.py
โ       โ   โโโ sac.py
โ       โ   โโโ replay_buffer.py
โ       โโโ environments/       # ุงูุจูุฆุงุช
โ       โ   โโโ __init__.py
โ       โ   โโโ l2f_wrapper.py
โ       โโโ training/           # ุงูุชุฏุฑูุจ
โ       โ   โโโ __init__.py
โ       โ   โโโ pre_training.py
โ       โ   โโโ post_training.py
โ       โโโ export/             # ุงูุชุตุฏูุฑ
โ       โ   โโโ __init__.py
โ       โ   โโโ onnx_export.py
โ       โ   โโโ tflite_convert.py
โ       โโโ utils/              # ุฃุฏูุงุช ูุณุงุนุฏุฉ
โ           โโโ __init__.py
โ           โโโ checkpoint.py
โ           โโโ logging.py
โโโ tests/                      # ุงูุงุฎุชุจุงุฑุงุช
โ   โโโ test_nn.py
โ   โโโ test_environment.py
โ   โโโ test_training.py
โโโ scripts/                    # ุณูุฑุจุชุงุช ุงูุชุดุบูู
    โโโ train_teachers.py
    โโโ train_student.py
    โโโ export_model.py
```

---

## 14. ุงูุฌุฏูู ุงูุฒููู (Timeline)

| ุงููุฑุญูุฉ | ุงููุฏุฉ | ุงููุญุชูู |
|---------|-------|---------|
| **1. ุงูุฃุณุงุณ** | ุฃุณุจูุนุงู | ูููู ุงููุดุฑูุนุ ุงูุดุจูุฉ ุงูุนุตุจูุฉ |
| **2. ุงูุจููุฉ ุงูุชุญุชูุฉ** | ุฃุณุจูุนุงู | SACุ Replay Bufferุ ุชูุงูู L2F |
| **3. Pre-Training** | ุฃุณุจูุนุงู | ุชุฏุฑูุจ ุงููุนูููู |
| **4. Post-Training** | ุฃุณุจูุนุงู | ุชูุทูุฑ ุงููุนุฑูุฉ |
| **5. ุงูุชุตุฏูุฑ** | ุฃุณุจูุน | ONNXุ TFLite |
| **6. ุงูุงุฎุชุจุงุฑ** | ุฃุณุจูุน | ุงูุชุญูู ูุงูุชูุซูู |
| **ุงููุฌููุน** | **10 ุฃุณุงุจูุน** | |

---

## 15. ุงููุฑููุฉ ูุงูุชุฎุตูุต (Flexibility & Customization)

### 15.1 ูุง ูููู ุชุฎุตูุตู
| ุงูุนูุตุฑ | ูุงุจู ููุชุนุฏูู | ุงูุทุฑููุฉ |
|--------|-------------|---------|
| ูุนููุงุช ุงูุทุงุฆุฑุฉ | ูุนู | ููู JSON |
| ุนุฏุฏ ุงููุนูููู | ูุนู | ูุชุบูุฑ ูู config |
| ุฏุงูุฉ ุงูููุงูุฃุฉ | ูุนู | ุฃูุฒุงู ูุงุจูุฉ ููุชุนุฏูู |
| ูุนุฏู ุงูุชุญูู | ูุนู | dt parameter |
| ูุฏุฉ ุงูุชุฏุฑูุจ | ูุนู | epochs, steps |
| ุจููุฉ ุงูุดุจูุฉ | ูุนู | hidden_dim, layers |
| Domain Randomization | ูุนู | ูุทุงูุงุช ุงููุนููุงุช |

### 15.2 ูุง ูุจูู ุซุงุจุชุงู
| ุงูุนูุตุฑ | ุงูุณุจุจ |
|--------|-------|
| ุฎูุงุฑุฒููุฉ SAC | ูุซุจุชุฉ ุงููุนุงููุฉ |
| ุจููุฉ GRU | ุถุฑูุฑูุฉ ููุฐุงูุฑุฉ ุงูุฒูููุฉ |
| ูููุฌูุฉ ุงูุชุฏุฑูุจ | Pre + Post training |

---

## 16. ููุฎุต ุงููุฑุงุฑุงุช ุงููุชูู ุนูููุง (Agreed Decisions Summary)

| ุงูุจูุฏ | ุงููุฑุงุฑ |
|-------|--------|
| ูุบุฉ ุงูุจุฑูุฌุฉ | Python + PyTorch |
| ุจูุฆุฉ ุงููุญุงูุงุฉ | L2F + Gymnasium Wrapper |
| ุงูุดุจูุฉ ุงูุนุตุจูุฉ | Dense โ GRU โ Dense (22โ16โ16โ4) |
| ุฎูุงุฑุฒููุฉ ุงูุชุฏุฑูุจ | SAC (Pre) + Behavioral Cloning/DAgger (Post) |
| ุนุฏุฏ ุงููุนูููู | 1000 (ูุงุจู ููุชุนุฏูู) |
| GPU | ูุทููุจ (RTX 3090 ููุตู) |
| ููุช ุงูุชุฏุฑูุจ | ~24 ุณุงุนุฉ (RTX 3090) |
| ููุตุฉ ุงููุดุฑ | Android |
| ุตูุบุฉ ุงูุชุตุฏูุฑ | ONNX โ TFLite |
| ุงููุชุงุจุนุฉ | TensorBoard + Logs + WebSocket UI |
| ุงูุชุฎุตูุต | JSON configs |

---

## 17. ุงููุฑุงุฌุน (References)

- **ุงููุณุชูุฏุน ุงูุฃุตูู:** https://github.com/sam2052ali2052-art/rep
- **L2F Simulator:** https://github.com/rl-tools/l2f
- **Foundation Policy Package:** `pip install foundation-policy==1.0.1`
- **UI Server:** `pip install ui-server==0.0.13`
- **Raptor Project Page:** https://raptor.rl.tools

---

## 18. ููุงุญุธุงุช ุฅุถุงููุฉ (Additional Notes)

### 18.1 ุงุชูุงููุงุช ุงููุญุงูุฑ
- **FLU Convention:** x = forward, y = left, z = up
- ูุฌุจ ุชุญููู ุฌููุน ุงูููู ุฅูู ูุฐู ุงูุงุชูุงููุฉ

### 18.2 ุชุฑุชูุจ ุงููุญุฑูุงุช
```
Front-Left [3]    Front-Right [0]
      \              /
       \            /
        \          /
         [Drone]
        /          \
       /            \
      /              \
Back-Left [2]     Back-Right [1]
```

### 18.3 ุฅุฏุงุฑุฉ ุงูุญุงูุฉ ุงููุฎููุฉ
- ูุฌุจ ุญูุธ ุงูุญุงูุฉ ุงููุฎููุฉ ุจูู ุงูุฎุทูุงุช
- ุฅุนุงุฏุฉ ุชุนููู ุนูุฏ ุจุฏุงูุฉ ุญููุฉ ุฌุฏูุฏุฉ
- ูู ุงูุชุทุจูู: ุญูุธ ูู ูุชุบูุฑ ุนุถู

---

**ููุงูุฉ ุงููุซููุฉ**

*ุชู ุฅูุดุงุก ูุฐู ุงููุซููุฉ ููุฑุฌุน ุดุงูู ููุดุฑูุน ูุฌุฑุฉ Raptor Foundation Policy ูู C++ ุฅูู Python/PyTorch.*
